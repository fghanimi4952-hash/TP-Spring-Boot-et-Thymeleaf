<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head>
    <meta charset="UTF-8" />
    <title>Gestion des Utilisateurs</title>
    <style>
        /* mêmes variables et base pour cohérence visuelle */
        :root{
          --bg:#0f172a; --panel:#0b1226; --card:#111b34; --muted:#9db2d0; --text:#e6edf7;
          --primary:#6aa4ff; --success:#3ccf91; --danger:#ff6b6b; --warning:#f7b500;
          --border:rgba(255,255,255,.12); --shadow:0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04);
          --radius:16px;
        }
        *{box-sizing:border-box}
        body{
          margin:0; min-height:100%;
          font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
          color:var(--text);
          background:
            radial-gradient(1200px 600px at 10% -10%, #1e2a52 0%, transparent 60%),
            radial-gradient(1000px 500px at 100% 0%, #14234a 0%, transparent 70%),
            var(--bg);
        }
        .container{ max-width:1000px; margin:40px auto; padding:0 18px; }
        .page-title{ text-align:center; margin-bottom: 22px; font-weight:700; }
        .section-card{
          background: linear-gradient(180deg, var(--card), #0c162c 80%);
          border:1px solid var(--border);
          border-radius: var(--radius);
          box-shadow: var(--shadow);
          padding: clamp(18px, 3vw, 26px);
        }
        .empty{
          text-align:center; color:var(--muted); font-size:1.1rem; padding:40px 10px;
        }
        .toolbar{
          display:flex; justify-content:flex-end; gap:10px; margin: 14px 0 10px;
          flex-wrap:wrap;
        }
        .btn{
          appearance:none; border:1px solid var(--border); border-radius:12px;
          background:#0b1430; color:var(--text); padding:10px 14px; font-weight:600;
          text-decoration:none; display:inline-flex; align-items:center; gap:8px;
          transition:.18s;
        }
        .btn:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,.2); }
        .btn-success{ background: linear-gradient(180deg, var(--success), #1bbf78); border-color:transparent; color:#041a14; }
        .table-wrap{ overflow:auto; border-radius:12px; border:1px solid var(--border); }
        table{ width:100%; border-collapse:collapse; min-width:680px; }
        thead th{
          text-align:left; font-size:.9rem; color:var(--muted); letter-spacing:.4px;
          padding:12px 14px; background:#0c152c; position:sticky; top:0;
        }
        tbody td{ padding:14px; border-top:1px solid var(--border); }
        tbody tr:hover{ background: rgba(255,255,255,.03); }
        .chip{
          display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px;
          border:1px solid var(--border);
          background:#0b1430;
          font-size:.9rem; font-weight:600; text-decoration:none; transition:.18s;
        }
        .chip:hover{ transform:translateY(-1px); }
        .chip.warning{ background: linear-gradient(180deg, #ffd166, var(--warning)); color:#3a2500; border:0; }
        .chip.danger{ background: linear-gradient(180deg, #ff6b6b, #ff4b4b); color:#320404; border:0; }
    </style>
</head>
<body>
<div class="container">
    <h1 class="page-title">Gestion des Utilisateurs</h1>

    <div th:if="${users.empty}" class="section-card">
        <div class="empty">
            <h2 style="margin:0 0 8px">Aucun utilisateur pour le moment</h2>
            <p style="margin:0 0 16px">Ajoutez votre premier utilisateur pour commencer.</p>
            <a href="/signup" class="btn btn-success">+ Ajouter un nouvel utilisateur</a>
        </div>
    </div>

    <div th:unless="${users.empty}" class="section-card">
        <div class="toolbar">
            <a href="/signup" class="btn btn-success">+ Ajouter un nouvel utilisateur</a>
        </div>

        <div class="table-wrap">
            <table>
                <thead>
                <tr>
                    <th>Nom</th>
                    <th>Email</th>
                    <th>Modifier</th>
                    <th>Supprimer</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="user : ${users}">
                    <td th:text="${user.name}"></td>
                    <td th:text="${user.email}"></td>
                    <td>
                        <a th:href="@{/edit/{id}(id=${user.id})}" class="chip warning">Modifier</a>
                    </td>
                    <td>
                        <a th:href="@{/delete/{id}(id=${user.id})}" class="chip danger">Supprimer</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

    </div>
</div>
</body>
</html>
